{"ast":null,"code":"export default {\n  data() {\n    return {\n      usuarios: []\n    };\n  },\n  mounted() {\n    this.fetchUserList();\n  },\n  methods: {\n    calcularEdad(fechaNacimiento) {\n      const fechaNacimientoDate = new Date(fechaNacimiento);\n      const hoy = new Date();\n      let edad = hoy.getFullYear() - fechaNacimientoDate.getFullYear();\n      const mes = hoy.getMonth() - fechaNacimientoDate.getMonth();\n      if (mes < 0 || mes === 0 && hoy.getDate() < fechaNacimientoDate.getDate()) {\n        edad--;\n      }\n      return edad;\n    },\n    async fetchUserList() {\n      try {\n        const response = await this.$axios.get('http://localhost:8000/api/listaUsuarios');\n        this.usuarios = response.data;\n      } catch (error) {\n        console.error('Error fetching user list:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","usuarios","mounted","fetchUserList","methods","calcularEdad","fechaNacimiento","fechaNacimientoDate","Date","hoy","edad","getFullYear","mes","getMonth","getDate","response","$axios","get","error","console"],"sources":["C:\\Users\\J. Gabriel\\Desktop\\proyectos\\prueba_tnight_vue\\src\\components\\ListaUsuarios.vue"],"sourcesContent":["<template>\r\n  <head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Lista de empleados</title>\r\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN\" crossorigin=\"anonymous\">\r\n</head>\r\n<body>\r\n    <nav class=\"navbar bg-body-tertiary\">\r\n        <div class=\"container-fluid\">\r\n            <a class=\"navbar-brand\" th:href=\"@{/demo/v1/employees}\">\r\n                <img src=\"https://cdn4.iconfinder.com/data/icons/social-messaging-ui-color-squares-01/3/15-512.png\" alt=\"Logo\" width=\"30\" height=\"30\" class=\"d-inline-block align-text-top\">\r\n                Prueba para Travel & Night (VueJS - JGVG)\r\n            </a>\r\n        </div>\r\n    </nav>\r\n\r\n    <div class=\"m-4 row justify-content-center align-items-center\">\r\n\r\n        <div class=\"mt-4\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h3>Listado de usuarios</h3>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>ID</th>\r\n                    <th>NOMBRE</th>\r\n                    <th>APELLIDOS</th>\r\n                    <th>EDAD</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"usuario in usuarios\" :key=\"usuario.id\">\r\n                    <td>{{ usuario.id }}</td>\r\n                    <td>{{ usuario.nombre }}</td>\r\n                    <td>{{ usuario.apellido }}</td>\r\n                    <td>{{ calcularEdad(usuario.fechaNacimiento) }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"card-header\">\r\n                <h3>Listado de usuarios</h3>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n\r\n    <router-link class=\"btn btn-primary mb-4\" to=\"/agregar-usuario\">AÃ±adir</router-link>\r\n\r\n</body>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      usuarios: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchUserList();\r\n  },\r\n  methods: {\r\n    calcularEdad(fechaNacimiento) {\r\n      const fechaNacimientoDate = new Date(fechaNacimiento);\r\n      const hoy = new Date();\r\n      let edad = hoy.getFullYear() - fechaNacimientoDate.getFullYear();\r\n      const mes = hoy.getMonth() - fechaNacimientoDate.getMonth();\r\n\r\n      if (mes < 0 || (mes === 0 && hoy.getDate() < fechaNacimientoDate.getDate())) {\r\n        edad--;\r\n      }\r\n\r\n      return edad;\r\n    },\r\n\r\n    async fetchUserList() {\r\n      try {\r\n        const response = await this.$axios.get('http://localhost:8000/api/listaUsuarios');\r\n        this.usuarios = response.data;\r\n      } catch (error) {\r\n        console.error('Error fetching user list:', error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn {\r\n  float: right;\r\n  margin-right: 35px;\r\n}\r\n</style>\r\n"],"mappings":"AAwDA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,aAAa,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAACC,eAAe,EAAE;MAC5B,MAAMC,mBAAkB,GAAI,IAAIC,IAAI,CAACF,eAAe,CAAC;MACrD,MAAMG,GAAE,GAAI,IAAID,IAAI,CAAC,CAAC;MACtB,IAAIE,IAAG,GAAID,GAAG,CAACE,WAAW,CAAC,IAAIJ,mBAAmB,CAACI,WAAW,CAAC,CAAC;MAChE,MAAMC,GAAE,GAAIH,GAAG,CAACI,QAAQ,CAAC,IAAIN,mBAAmB,CAACM,QAAQ,CAAC,CAAC;MAE3D,IAAID,GAAE,GAAI,KAAMA,GAAE,KAAM,KAAKH,GAAG,CAACK,OAAO,CAAC,IAAIP,mBAAmB,CAACO,OAAO,CAAC,CAAE,EAAE;QAC3EJ,IAAI,EAAE;MACR;MAEA,OAAOA,IAAI;IACb,CAAC;IAED,MAAMP,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMY,QAAO,GAAI,MAAM,IAAI,CAACC,MAAM,CAACC,GAAG,CAAC,yCAAyC,CAAC;QACjF,IAAI,CAAChB,QAAO,GAAIc,QAAQ,CAACf,IAAI;MAC/B,EAAE,OAAOkB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}